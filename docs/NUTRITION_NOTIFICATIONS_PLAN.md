# Система уведомлений раздела «Питание»

## Статус: запланировано

## Типы уведомлений

### 1. Ежедневное взвешивание
- Утреннее напоминание (настраиваемое время, по умолчанию 08:00)
- Если вес не внесён за сегодня — повторное напоминание вечером
- Пропуск 3+ дней — усиленное push с мотивацией

### 2. Приёмы пищи
- Напоминание за 15 мин до каждого приёма (завтрак, обед, ужин, перекус)
- Время берётся из плана питания пользователя
- После пропущенного приёма — мягкое напоминание через 30 мин

### 3. Питьевой режим
- Напоминание пить воду каждые 2 часа (если daily_water_ml задан в плане)
- Настраиваемый интервал

### 4. Прогресс и мотивация
- Еженедельный отчёт (вес, % выполнения плана, тренд)
- Достижения: первый кг сброшен, 50% плана, финиш
- ИИ-мотивация при плохом тренде (вес растёт 3+ дня подряд)

### 5. SOS-followup
- Через 2 часа после SOS-обращения — проверочное «как дела?»
- Если SOS был по причине «хочу бросить» — серия поддерживающих сообщений 3 дня

### 6. Окончание плана
- За 1 день до конца — подготовка к завершению
- В день окончания — итоговый отчёт + предложение нового плана

## Каналы доставки
- Push-уведомления (PWA / браузер)
- Telegram-бот (если подключен)

## Настройки пользователя
- Включение/выключение каждого типа отдельно
- Выбор времени для утреннего взвешивания
- Тихие часы (по умолчанию 22:00–07:00)

## Зависимости
- backend/push-notifications — уже есть
- backend/telegram-notify — уже есть
- backend/scheduled-reminders — уже есть, нужно расширить для nutrition

## Реализация
- Новая таблица `nutrition_notification_settings` (user_id, type, enabled, time, channel)
- Расширение scheduled-reminders для обработки nutrition-типов
- UI настроек в разделе питания
