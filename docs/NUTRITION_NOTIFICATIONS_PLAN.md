# Система уведомлений раздела «Питание»

## Статус: реализовано

## Типы уведомлений

### 1. Ежедневное взвешивание (weight_reminder)
- Утреннее напоминание (настраиваемое время, по умолчанию 08:00)
- Если вес не внесён за сегодня — повторное напоминание вечером
- Пропуск 2+ дней — усиленное push с мотивацией

### 2. Приёмы пищи (meal_reminder)
- Напоминание за 15 мин до каждого приёма (завтрак, обед, ужин, перекус)
- Время берётся из плана питания пользователя
- После пропущенного приёма — мягкое напоминание через 30 мин

### 3. Питьевой режим (water_reminder)
- Напоминание пить воду каждые 2 часа (если daily_water_ml задан в плане)
- Настраиваемый интервал (1ч / 1.5ч / 2ч / 3ч)

### 4. Прогресс и мотивация (motivation + weekly_report)
- Ежедневная ИИ-мотивация через YandexGPT (настраиваемое время, по умолчанию 09:00)
- Еженедельный отчёт каждые 7 дней (вес, % выполнения плана)

### 5. SOS-followup (sos_followup)
- Через 2 часа после SOS-обращения — проверочное «как дела?»
- Если SOS был по причине «хочу бросить» — ИИ-поддержка через YandexGPT

### 6. Окончание плана (plan_ending)
- За 1 день до конца — подготовка к завершению
- В день окончания — итоговый отчёт + предложение нового плана

## Каналы доставки
- Push-уведомления (PWA / браузер)

## Настройки пользователя
- Включение/выключение каждого типа отдельно
- Выбор времени для каждого типа
- Тихие часы (по умолчанию 22:00–07:00)
- UI в разделе «Прогресс диеты» → кнопка «Настроить»

## Реализация
- Таблица `nutrition_notification_settings` (V0148)
- `backend/scheduled-reminders` — check_diet_notifications() обрабатывает все 7 типов
- `backend/diet-progress` — GET ?action=notification_settings, POST action=save_notification_settings
- `src/pages/DietProgress.tsx` — модальное окно настроек
